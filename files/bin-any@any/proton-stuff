#!/usr/bin/env nu

def --wrapped main [...rest] {
   load-env {
      PROTON_ENABLE_WAYLAND: 1
      PROTON_NO_WM_DECORATION: 1

      PROTON_USE_NTSYNC: 1

      PROTON_FSR4_RDNA3_UPGRADE: 1
      PROTON_FSR4_UPGRADE: 1
      PROTON_FSR4_INDICATOR: 1

      PROTON_DLSS_UPGRADE: 1
      PROTON_DLSS_INDICATOR: 1

      PROTON_XESS_UPGRADE: 1

      DXVK_ASYNC: 1
      DXVK_STATE_CACHE: 1

      __GL_SHADER_DISK_CACHE: 1
      __GL_SHADER_DISK_CACHE_SKIP_CLEANUP: 1

      RADV_PERFTEST: aco
      STAGING_SHARED_MEMORY: 1
   }

   exec ...$rest
}
